# PRD: Zero-Config Local AI å…¨é¢é€²åŒ–

| Attribute | Details |
| :--- | :--- |
| **Version** | v1.0 |
| **Status** | Draft |
| **Author** | Antigravity Agent |
| **Reviewers** | Tai |
| **Created** | 2026-02-27 |
| **Last Updated** | 2026-02-27 |
| **Strategic Context** | ç”¢å“æˆ°ç•¥ä¸€ï¼šå„ªåŒ– API Key é–€æª» |

## 1. Introduction

### 1.1 Problem Statement

ç›®å‰å¸‚é¢ä¸Šè¨±å¤š AI åŠŸèƒ½ï¼ˆTab Groupingã€Tab Cleanupã€Group Namingï¼‰è¦æ±‚ä½¿ç”¨è€…è‡ªè¡Œç”³è«‹ä¸¦è¼¸å…¥ Gemini API Keyï¼Œç”šè‡³éœ€ç¶å®šä¿¡ç”¨å¡ã€‚æ ¹æ“šä½¿ç”¨è€…å›é¥‹ï¼Œå¤§é‡ä½¿ç”¨è€…å®‰è£å¾Œå¾ˆå¿«å°±è§£é™¤å®‰è£ï¼Œé«˜é–€æª»çš„ AI è¨­å®šæ˜¯ä¸€å¤§åŸå› ã€‚

æˆ‘å€‘çš„å¥—ä»¶ç›®å‰å·²ä½¿ç”¨ Chrome å…§å»º Gemini Nano (`globalThis.LanguageModel`)ï¼Œå¯¦ç¾äº†ã€Œ0 è¨­å®šå… API Keyã€çš„ AI æ™ºæ…§æ•´ç†ã€‚ä½†ç›®å‰ AI åŠŸèƒ½åƒ…é™æ–¼ã€Œä¸€éµåˆ†çµ„ (Smart Auto-Grouping)ã€å–®ä¸€å ´æ™¯ï¼Œå°šæœªå½¢æˆå®Œæ•´çš„ AI åŠŸèƒ½çŸ©é™£ï¼Œç„¡æ³•æœ€å¤§åŒ–æˆ‘å€‘çš„æ ¸å¿ƒå„ªå‹¢ã€‚

### 1.2 Goals & Objectives

- **ç›®æ¨™ 1**: å°‡ Local AI å¾å–®é»åŠŸèƒ½ï¼ˆåˆ†çµ„ï¼‰æ“´å±•ç‚ºå¤šå ´æ™¯ AI åŠ©æ‰‹ï¼Œå»ºç«‹å®Œæ•´çš„ã€ŒZero-Config AIã€åŠŸèƒ½çŸ©é™£ã€‚
- **ç›®æ¨™ 2**: æ–°å¢ã€ŒAI ç¾¤çµ„è‡ªå‹•å‘½å (Auto Group Naming)ã€â€”â€”ç•¶ä½¿ç”¨è€…æ‰‹å‹•å»ºç«‹åˆ†é ç¾¤çµ„æ™‚ï¼Œè‡ªå‹•ä»¥ AI ç”Ÿæˆ Emoji + ç°¡çŸ­æè¿°ã€‚
- **ç›®æ¨™ 3**: æ–°å¢ã€ŒAI åˆ†é æ¸…ç†å»ºè­° (Tab Cleanup Suggestion)ã€â€”â€”AI è¾¨è­˜é–’ç½®/ä¸å†éœ€è¦çš„åˆ†é ï¼Œå»ºè­°ä½¿ç”¨è€…é—œé–‰ã€‚
- **ç›®æ¨™ 4**: åœ¨ READMEã€å®˜ç¶²ã€Chrome Web Store æè¿°ä¸­ï¼Œæ˜ç¢ºæ¨™ç¤ºã€ŒZero-Config / å… API Keyã€ä½œç‚ºæ ¸å¿ƒè¡ŒéŠ·è¨Šæ¯ã€‚

### 1.3 Success Metrics (KPIs)

- AI åŠŸèƒ½ä½¿ç”¨ç‡ï¼šæ¯é€±è‡³å°‘ 30% çš„æ´»èºç”¨æˆ¶è§¸ç™¼éä»»ä¸€ AI åŠŸèƒ½ã€‚
- ç•™å­˜ç‡ï¼šå®‰è£å¾Œ 7 å¤©çš„ç•™å­˜ç‡æå‡ 10%ã€‚
- é—œéµå­—æœå°‹æ’åï¼šã€ŒChrome AI tab manager no API keyã€æ’åå‰ 5ã€‚

## 2. User Stories

| ID | As a (Role) | I want to (Action) | So that (Benefit) | Priority |
| :--- | :--- | :--- | :--- | :--- |
| US-01 | ä¸€èˆ¬ä½¿ç”¨è€… | æ‰‹å‹•å»ºç«‹ä¸€å€‹åˆ†é ç¾¤çµ„æ™‚ï¼Œç³»çµ±è‡ªå‹•å¹«æˆ‘ç”¨ AI å–ä¸€å€‹æœ‰æ„ç¾©çš„åç¨± | æˆ‘ä¸ç”¨èŠ±æ™‚é–“æƒ³ç¾¤çµ„åç¨±ï¼Œå·¥ä½œæµä¸ä¸­æ–· | High |
| US-02 | é‡åº¦ä½¿ç”¨è€… | ä¸€éµè®“ AI æƒææ‰€æœ‰åˆ†é ä¸¦å»ºè­°å“ªäº›å¯ä»¥é—œé–‰ | æˆ‘èƒ½å¿«é€Ÿé‡‹æ”¾è¨˜æ†¶é«”ã€ä¿æŒå°ˆæ³¨ | High |
| US-03 | è¼•åº¦ä½¿ç”¨è€… | å®‰è£æ“´å……åŠŸèƒ½å¾Œä¸éœ€è¦ä»»ä½•è¨­å®šå°±èƒ½ç”¨ AI åŠŸèƒ½ | æˆ‘ä¸æ…Œå¼µã€ä¸å›°æƒ‘ã€é–‹ç®±å³ç”¨ | Critical |
| US-04 | æ½›åœ¨ä½¿ç”¨è€… | åœ¨ Chrome Web Store é é¢çœ‹åˆ°æ˜ç¢ºçš„ã€Œå… API Keyã€æ¨™ç¤º | æˆ‘èƒ½åœ¨ç„¡è² æ“”çš„æƒ…æ³ä¸‹å¿«é€Ÿé«”é©— AI åŠŸèƒ½ | Medium |

## 3. Functional Requirements

### 3.1 AI ç¾¤çµ„è‡ªå‹•å‘½å (Auto Group Naming)

| éœ€æ±‚ç·¨è™Ÿ | éœ€æ±‚æè¿° | å„ªå…ˆç´š |
| :--- | :--- | :--- |
| FR-1.01 | ç•¶ä½¿ç”¨è€…é€é Chrome åŸç”Ÿæ“ä½œæˆ–æœ¬å¥—ä»¶ UI å»ºç«‹ä¸€å€‹æ–°çš„åˆ†é ç¾¤çµ„ä¸”è©²ç¾¤çµ„**æ²’æœ‰åç¨±**ï¼ˆç©ºç™½ï¼‰æ™‚ï¼Œç³»çµ±**æ‡‰**è‡ªå‹•è§¸ç™¼ AI å‘½åæµç¨‹ã€‚ | High |
| FR-1.02 | ç³»çµ±**æ‡‰**æ“·å–è©²ç¾¤çµ„å…§æ‰€æœ‰åˆ†é çš„æ¨™é¡Œèˆ‡ç¶²å€ä½œç‚º Prompt è¼¸å…¥ã€‚ | High |
| FR-1.03 | AI **æ‡‰**å›å‚³æ ¼å¼ç‚ºã€Œ1 å€‹ Emoji + ç°¡çŸ­ä¸»é¡Œåç¨±ã€çš„ç¾¤çµ„åç¨±ï¼ˆèˆ‡ä½¿ç”¨è€… UI èªç³»ä¸€è‡´ï¼‰ã€‚ | High |
| FR-1.04 | ç³»çµ±**æ‡‰**åœ¨ AI è™•ç†å®Œæˆå¾Œï¼Œè‡ªå‹•å°‡è©²åç¨±å¥—ç”¨åˆ°ç¾¤çµ„ä¸Šï¼ˆé€é `chrome.tabGroups.update()`ï¼‰ã€‚ | High |
| FR-1.05 | ç³»çµ±**æ‡‰**æä¾›è¨­å®šé–‹é—œï¼Œå…è¨±ä½¿ç”¨è€…åœç”¨ AI è‡ªå‹•å‘½åï¼ˆé è¨­ç‚ºå•Ÿç”¨ï¼‰ã€‚ | Medium |
| FR-1.06 | è‹¥ AI æ¨¡å‹ä¸å¯ç”¨ï¼ˆ`availability()` å›å‚³ `'no'`ï¼‰ï¼Œç³»çµ±**ä¸æ‡‰**å ±éŒ¯ï¼Œè€Œæ˜¯éœé»˜è·³éå‘½åæµç¨‹ã€‚ | High |

### 3.2 AI åˆ†é æ¸…ç†å»ºè­° (Tab Cleanup Suggestion)

| éœ€æ±‚ç·¨è™Ÿ | éœ€æ±‚æè¿° | å„ªå…ˆç´š |
| :--- | :--- | :--- |
| FR-2.01 | ç³»çµ±**æ‡‰**åœ¨å´é‚Šæ¬„è¨­å®šå€æˆ–ä¸Šæ–¹å·¥å…·åˆ—æä¾›ã€ŒğŸ§¹ æ¸…ç†å»ºè­°ã€æ“ä½œå…¥å£ã€‚ | High |
| FR-2.02 | ç³»çµ±**æ‡‰**å°‡æ‰€æœ‰åˆ†é çš„æ¨™é¡Œã€ç¶²å€èˆ‡æœ€å¾Œå­˜å–æ™‚é–“å‚³é€çµ¦ Local AI é€²è¡Œåˆ†æã€‚ | High |
| FR-2.03 | AI **æ‡‰**å›å‚³ä¸€å€‹å»ºè­°é—œé–‰çš„åˆ†é  ID åˆ—è¡¨ï¼Œé™„å¸¶ç°¡çŸ­çš„ç†ç”±ï¼ˆå¦‚ã€Œè¶…é 1 å°æ™‚æœªå­˜å–ã€ã€ã€Œèˆ‡å…¶ä»–åˆ†é å…§å®¹é‡è¤‡ã€ï¼‰ã€‚ | High |
| FR-2.04 | ç³»çµ±**æ‡‰**ä»¥å¯äº’å‹•çš„æ¸…å–®ï¼ˆå«æ ¸å–æ–¹å¡Šï¼‰å‘ˆç¾ AI å»ºè­°ï¼Œè®“ä½¿ç”¨è€…é¸æ“‡æ€§é—œé–‰ã€‚ | High |
| FR-2.05 | ç³»çµ±**æ‡‰**æä¾›ã€Œå…¨é¸ / å…¨ä¸é¸ã€å¿«æ·æ“ä½œã€‚ | Medium |
| FR-2.06 | ç³»çµ±**æ‡‰**åœ¨ä½¿ç”¨è€…ç¢ºèªé—œé–‰å¾Œï¼Œæ‰¹é‡é—œé–‰è¢«å‹¾é¸çš„åˆ†é ã€‚ | High |
| FR-2.07 | è‹¥ç„¡å¯å»ºè­°é—œé–‰çš„åˆ†é ï¼Œç³»çµ±**æ‡‰**é¡¯ç¤ºå‹å–„æç¤ºå¦‚ã€Œä½ çš„åˆ†é å¾ˆæ•´æ½”ï¼ã€ | Low |

### 3.3 è¡ŒéŠ·è¨Šæ¯å¼·åŒ–

| éœ€æ±‚ç·¨è™Ÿ | éœ€æ±‚æè¿° | å„ªå…ˆç´š |
| :--- | :--- | :--- |
| FR-3.01 | README.md **æ‡‰**æ–°å¢ã€ŒZero-Config AIã€ç« ç¯€ï¼Œå¼·èª¿é–‹ç®±å³ç”¨çš„å„ªå‹¢ã€‚ | Medium |
| FR-3.02 | å®˜ç¶²é¦–é çš„ AI å€å¡Š**æ‡‰**åŠ å…¥é†’ç›®çš„ Badge æ¨™ç¤ºã€ŒğŸ”’ 100% Local Â· 0 API Keyã€ã€‚ | Medium |
| FR-3.03 | Chrome Web Store æè¿°**æ‡‰**åœ¨å‰ä¸‰è¡ŒæåŠã€Œå… API Keyã€èˆ‡ã€Œé›¢ç·š AIã€é—œéµå­—ã€‚ | Medium |

## 4. Acceptance Criteria

### AC for FR-1.01 ~ FR-1.04: AI è‡ªå‹•å‘½å

```gherkin
Given ä½¿ç”¨è€…å»ºç«‹äº†ä¸€å€‹æ–°çš„åˆ†é ç¾¤çµ„ï¼ŒåŒ…å« 3 å€‹é—œæ–¼ JavaScript æ•™å­¸çš„åˆ†é 
  And è©²ç¾¤çµ„åç¨±ç‚ºç©ºç™½
  And Gemini Nano æ¨¡å‹ç‹€æ…‹ç‚º 'readily'
When ç¾¤çµ„å»ºç«‹äº‹ä»¶è§¸ç™¼
Then ç³»çµ±åœ¨ 3 ç§’å…§è‡ªå‹•å°‡ç¾¤çµ„åç¨±æ›´æ–°ç‚ºé¡ä¼¼ "ğŸ“˜ JavaScript æ•™å­¸" çš„æ ¼å¼
  And ç¾¤çµ„åç¨±ä½¿ç”¨ä½¿ç”¨è€…çš„ UI èªç³»
```

### AC for FR-1.05: è¨­å®šé–‹é—œ

```gherkin
Given ä½¿ç”¨è€…åœ¨è¨­å®šé¢æ¿ä¸­å°‡ã€ŒAI è‡ªå‹•å‘½åã€é¸é …é—œé–‰
When ä½¿ç”¨è€…å»ºç«‹ä¸€å€‹æ–°çš„ç©ºç™½ç¾¤çµ„
Then ç³»çµ±ä¸è§¸ç™¼ AI å‘½åæµç¨‹
  And ç¾¤çµ„åç¨±ä¿æŒç©ºç™½
```

### AC for FR-1.06: AI ä¸å¯ç”¨é™ç´š

```gherkin
Given Gemini Nano æ¨¡å‹ç‹€æ…‹ç‚º 'no'ï¼ˆä¸å¯ç”¨ï¼‰
When ä½¿ç”¨è€…å»ºç«‹ä¸€å€‹æ–°çš„ç©ºç™½ç¾¤çµ„
Then ç³»çµ±éœé»˜è·³éå‘½åæµç¨‹ï¼Œä¸é¡¯ç¤ºä»»ä½•éŒ¯èª¤è¨Šæ¯
  And ç¾¤çµ„åç¨±ä¿æŒç©ºç™½
```

### AC for FR-2.01 ~ FR-2.06: AI æ¸…ç†å»ºè­°

```gherkin
Given ä½¿ç”¨è€…é–‹å•Ÿäº† 15 å€‹åˆ†é ï¼Œå…¶ä¸­ 5 å€‹è¶…é 2 å°æ™‚æœªå­˜å–
  And Gemini Nano æ¨¡å‹ç‹€æ…‹ç‚º 'readily'
When ä½¿ç”¨è€…é»æ“Šã€ŒğŸ§¹ æ¸…ç†å»ºè­°ã€æŒ‰éˆ•
Then ç³»çµ±é¡¯ç¤ºä¸€å€‹äº’å‹•å¼æ¸…å–®ï¼Œåˆ—å‡º AI å»ºè­°é—œé–‰çš„åˆ†é 
  And æ¯å€‹é …ç›®é™„å¸¶ç°¡çŸ­çš„é—œé–‰ç†ç”±
  And ä½¿ç”¨è€…å¯ä»¥å‹¾é¸/å–æ¶ˆå‹¾é¸å€‹åˆ¥é …ç›®
When ä½¿ç”¨è€…é»æ“Šã€Œç¢ºèªé—œé–‰ã€
Then ç³»çµ±æ‰¹é‡é—œé–‰è¢«å‹¾é¸çš„åˆ†é 
```

## 5. User Experience (UI/UX)

### 5.1 AI è‡ªå‹•å‘½åæµç¨‹

```mermaid
sequenceDiagram
    participant User
    participant Extension
    participant AI as Gemini Nano

    User->>Extension: å»ºç«‹æ–°åˆ†é ç¾¤çµ„ (ç©ºç™½åç¨±)
    Extension->>Extension: åµæ¸¬ onCreated äº‹ä»¶
    Extension->>Extension: æª¢æŸ¥è¨­å®šé–‹é—œ & AI å¯ç”¨æ€§
    alt AI å¯ç”¨ä¸”é–‹é—œå•Ÿç”¨
        Extension->>AI: é€å‡ºç¾¤çµ„å…§åˆ†é è³‡è¨Š
        AI-->>Extension: å›å‚³ "ğŸ“˜ ä¸»é¡Œå"
        Extension->>Extension: æ›´æ–°ç¾¤çµ„åç¨±
    else AI ä¸å¯ç”¨æˆ–é–‹é—œé—œé–‰
        Extension->>Extension: éœé»˜è·³é
    end
```

### 5.2 Tab Cleanup æµç¨‹

```mermaid
graph TD
    A[ä½¿ç”¨è€…é»æ“Š ğŸ§¹ æ¸…ç†å»ºè­°] --> B{AI å¯ç”¨?}
    B -->|Yes| C[æ”¶é›†æ‰€æœ‰åˆ†é è³‡è¨Š]
    C --> D[AI åˆ†æ & å›å‚³å»ºè­°]
    D --> E[é¡¯ç¤ºäº’å‹•å¼æ¸…å–®]
    E --> F{ä½¿ç”¨è€…ç¢ºèª?}
    F -->|Yes| G[æ‰¹é‡é—œé–‰å‹¾é¸åˆ†é ]
    F -->|No| H[å–æ¶ˆ]
    B -->|No| I[é¡¯ç¤º AI ä¸å¯ç”¨æç¤º]
```

## 6. Non-Functional Requirements

- **Privacy**: æ‰€æœ‰ AI é‹ç®— 100% ä½¿ç”¨ Chrome å…§å»º `globalThis.LanguageModel`ï¼Œåš´ç¦ä»»ä½•å¤–éƒ¨ API å‘¼å«ã€‚
- **Performance**: AI è‡ªå‹•å‘½åæ‡‰åœ¨ 3 ç§’å…§å®Œæˆï¼›Tab Cleanup åˆ†ææ‡‰åœ¨ 5 ç§’å…§å®Œæˆã€‚
- **Graceful Degradation**: AI ä¸å¯ç”¨æ™‚ï¼Œæ‰€æœ‰åŠŸèƒ½æ­£å¸¸é‹ä½œï¼Œåƒ… AI å¢å¼·åŠŸèƒ½éœé»˜è·³éã€‚
- **Compatibility**: æ”¯æ´ Chrome 131+ (LanguageModel API GA ç‰ˆæœ¬)ã€‚

## 7. Out of Scope

- ä½¿ç”¨å¤–éƒ¨ AI APIï¼ˆGPTã€Claude ç­‰ï¼‰ä½œç‚ºå‚™æ´æ–¹æ¡ˆã€‚
- AI è‡ªå‹•åŒ–åŸ·è¡Œï¼ˆè‡ªå‹•é—œé–‰åˆ†é ï¼‰ï¼Œåƒ…æä¾›å»ºè­°ã€‚
- è·¨ç€è¦½å™¨ AIï¼ˆåƒ…é™ Chrome/Chromiumï¼‰ã€‚
- è‡ªè¨‚ AI Prompt æ¨¡æ¿ï¼ˆé‡å°é‡åº¦ç”¨æˆ¶çš„åŠŸèƒ½å»¶ä¼¸ï¼‰ã€‚

---

## Revision History

| Version | Date | Author | Changes |
|---------|------|--------|---------|
| v1.0 | 2026-02-27 | Antigravity Agent | Initial draft |
