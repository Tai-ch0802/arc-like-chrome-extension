# 開發摘要 - 2026-01-18

## 變更項目
- `sidepanel.html`: 為 `#search-result-count` 添加 `aria-live="polite"` 屬性，確保螢幕閱讀器能即時宣讀搜尋結果數量的變化。
- `modules/ui/tabRenderer.js`: 改進自訂右鍵選單 (Context Menu) 的無障礙性。
    - 為選單容器添加 `role="menu"` 和 `tabindex="-1"`。
    - 為選單項目添加 `role="menuitem"` 和 `tabindex="0"`。
    - 新增鍵盤事件監聯：支援 `Enter` 與 `Space` 鍵觸發操作，支援 `Escape` 鍵關閉選單。
    - 實作焦點管理：選單開啟時自動將焦點移至第一個選項。
    - **新增**：支援使用 `Space` 鍵打開右鍵選單（`Enter` 鍵保留為切換分頁）。
    - **重構**：將選單建立邏輯抽取成 `showContextMenu(x, y)` 函式，供滑鼠和鍵盤事件共用。

## 技術決策
- **Context Menu Accessibility**: 原有的右鍵選單僅由 `div` 構成，缺乏語義且無法透過鍵盤操作。透過添加 ARIA roles 和鍵盤事件處理，使其符合無障礙標準，讓螢幕閱讀器使用者和鍵盤使用者都能順暢操作。
- **Search Result Live Region**: 搜尋結果數量是動態更新的重要資訊，使用 `aria-live="polite"` 可以在不打斷使用者的情況下通知結果變化。
- **Space 鍵觸發右鍵選單**: 在 macOS 等缺乏標準鍵盤快捷鍵觸發右鍵選單的平台上，使用 `Space` 鍵作為替代方案。選單會出現在分頁項目下方。

## 待辦事項
- [x] 支援純鍵盤打開右鍵選單
- [ ] 考慮為選單項目較多的情況下，加入上下箭頭鍵的導航邏輯 (目前僅有一個選項，暫無迫切需求)。
