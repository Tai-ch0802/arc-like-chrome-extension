# 2026-01-07 開發筆記

## 修正搜尋列清除行為

### 問題描述
側邊欄搜尋框在輸入內容後清除 (清空字串)，書籤區塊沒有恢復為預設的完整書籤樹，而是呈現空白狀態 (類似搜尋空字串無結果)。

### 解決方案
在 `modules/searchManager.js` 中引入狀態變數 `isFiltering` 來追蹤目前是否處於過濾狀態。
當 `filterBookmarks` 接收到空關鍵字 (`keywords.length === 0`) 時：
1. 檢查 `isFiltering` 是否為 `true`。
2. 若為 `true`，代表使用者剛結束搜尋，發送 `refreshBookmarksRequired` 事件以觸發全域書籤刷新。
3. 將 `isFiltering` 重置為 `false`。

此修改確保了當搜尋結束時，UI 能正確切換回預設的書籤列表視圖。

### 修改檔案
- `modules/searchManager.js`
