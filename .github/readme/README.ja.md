# Arc-Style Chrome Sidebar

このプロジェクトは、Google Chrome に Arc ブラウザのような垂直サイドバー体験をもたらし、タブとブックマークを管理するための統一された強力なパネルを提供することを目的とした Chrome 拡張機能プロジェクトです。

---

[![Version](https://img.shields.io/chrome-web-store/v/beoonblekmppafnjppedgpgfngghebji?style=flat-square&logo=google-chrome&logoColor=white)](https://chromewebstore.google.com/detail/beoonblekmppafnjppedgpgfngghebji)
[![Rating](https://img.shields.io/chrome-web-store/rating/beoonblekmppafnjppedgpgfngghebji?style=flat-square)](https://chromewebstore.google.com/detail/beoonblekmppafnjppedgpgfngghebji)
[![Users](https://img.shields.io/chrome-web-store/users/beoonblekmppafnjppedgpgfngghebji?style=flat-square)](https://chromewebstore.google.com/detail/beoonblekmppafnjppedgpgfngghebji)
[![Build Status](https://github.com/Tai-ch0802/arc-like-chrome-extension/actions/workflows/ci.yml/badge.svg)](https://github.com/Tai-ch0802/arc-like-chrome-extension/actions/workflows/ci.yml)
[![License](https://img.shields.io/github/license/Tai-ch0802/arc-like-chrome-extension?style=flat-square)](../../LICENSE)

## 🚀 New Release v1.11.0 更新！
[![Demo Video](http://img.youtube.com/vi/Ld4lyaZatWo/0.jpg)](https://www.youtube.com/watch?v=Ld4lyaZatWo)

---

## 🔥 主な機能

### 🔗 独自機能：リンクされたタブ (Linked Tabs)
これは当拡張機能で最も強力な機能です！サイドバーからブックマークを開くと、自動的に **「リンク (Link)」** が作成されます。
- **タブの乱立を防止**: ブックマークの横にあるリンクアイコンをクリックすると、そのブックマークから開かれたすべてのタブが表示されます。これにより、同じページを重複して開くことを防ぎ、システムリソースを節約できます。
- **双方向同期**: タブを閉じるとブックマークの状態が自動的に更新され、ブックマークを削除するとリンクされたタブがインテリジェントに処理されます。
- **視覚的なフィードバック**: アクティブなブックマークの横には洗練されたリンクアイコンが表示され、どのブックマークが現在開かれているかを一目で確認できます。

### ⚡️ スマートレンダリング
数千のブックマークがあっても大丈夫！
- **動的レンダリング**: 仮想スクロールから効率的な動的レンダリング（Dynamic Rendering）メカニズムに切り替え、高い互換性を維持しながらスムーズなパフォーマンスを実現しました。
- **滑らかな操作感**: 大規模なブックマークライブラリでも、ラグなしで快適にナビゲートできます。

### 🪟 クロスウィンドウ管理
- **ウィンドウの概要**: 現在のウィンドウだけでなく、開いているすべての Chrome ウィンドウのタブをサイドバーから直接表示・管理できます。
- **グローバル検索**: 検索結果にはすべてのウィンドウのタブが含まれるため、セッション全体から目的のタブを瞬時に見つけることができます。

### 🔍 プロ仕様の検索
ただ探すだけでなく、瞬時に「見つける」。
- **マルチキーワードフィルタリング**: スペース区切りのキーワード（例：「google docs 仕事」）による精緻な絞り込みをサポート。
- **ドメイン検索**: ドメイン名（例：`github.com`）を入力するだけで、特定のサイトのタブやブックマークを即座に抽出。
- **スマートハイライト**: 一致したキーワードをリアルタイムでハイライト表示し、視覚的なフォーカスを明確にします。

### 🗂️ 統合ワークスペース
- **垂直タブ**: ページタイトルを省略せずにフル表示。小さなアイコンに圧縮されることはもうありません。
- **ブラウザ標準機能のサポート**: Chrome のタブグループ（Tab Groups）に完全対応。色や名前が同期されます。
- **カスタムウィンドウ名**: 各ウィンドウに独自の名称（例：「仕事」、「個人」）を付けて、コンテキストを明確に管理できます。
- **ドラッグ＆ドロップ**: タブ、グループ、ブックマークフォルダ間でアイテムを直感的に移動できます。
- **ドラッグで保存＆展開**: タブをブックマークエリアにドラッグして即座に保存。ブックマークをタブエリアにドラッグして開くことができます。

### 🎨 プレミアムデザイン
- **フォーカスモード**: 目の疲れを軽減するためにコントラストを微調整した、洗練されたダークテーマ。
- **自動フォルダ展開**: アイテムをドラッグしながらフォルダ上にマウスを置くと、自動的にフォルダが展開されます。
- **スマートホバー**: 必要なボタンだけが必要な時に現れる、クリーンで集中を妨げないインターフェース。

## ⌨️ フルキーボードナビゲーション
- **ネイティブ感覚の体験**: `上矢印` / `下矢印` キーで、タブとブックマークの間をシームレスに移動できます。
- **マイクロインタラクション**: `左矢印` / `右矢印` キーを使用して、項目内のボタン（閉じる、グループに追加など）を操作できます。
- **検索の統合**: リストの先頭で `上` を押すと検索バーにフォーカス、検索バーで `下` を押すと結果リストにジャンプします。
- **フォーカスのコツ**: サイドバーを開いた後、いずれかの矢印キーを押すと自動的にフォーカスが当たります。

### ⌨️ 生産性を高めるショートカット
- **Cmd/Ctrl + I**: サイドバーの表示/非表示を切り替え
- **Opt/Alt + T**: 現在のタブの隣に新しいタブを作成

---

## 🆚 この拡張機能を選ぶ理由

| 機能 | 当拡張機能 | ブラウザ標準機能 | 従来のサイドバー |
| :--- | :---: | :---: | :---: |
| **垂直タブ** | ✅ フル表示 | ❌ 圧縮表示 | ✅ |
| **タブグループ** | ✅ ネイティブ同期 | ✅ | ⚠️ 一部対応 |
| **ブックマーク統合** | ✅ 統合パネル | ❌ 限定機能 | ❌ 別表示 |
| **Linked Tabs** | ✅ 完璧な同期 | ❌ | ❌ |
| **クロスウィンドウ検索** | ✅ | ❌ | ⚠️ 制限あり |
| **パフォーマンス** | ⚡️ 動的レンダリング | N/A | 🐢 仮想スクロール |

---

## 🚀 インストールと開発

### 方法 1: Chrome ウェブストアからインストール (推奨)

公式ストアから直接インストールすることで、自動アップデートを受け取ることができます：

[**Chrome ウェブストアでインストール**](https://chromewebstore.google.com/detail/beoonblekmppafnjppedgpgfngghebji?utm_source=item-share-cb)

### 方法 2: ソースから手動インストール (開発者向け)

**1. 事前準備**

開始する前に、[Node.js](https://nodejs.org/) (npm を含む) がシステムにインストールされていることを確認してください。

**2. セットアップ手順**

1.  このプロジェクトをローカルマシンにクローンまたはダウンロードします。
    ```bash
    git clone https://github.com/Tai-ch0802/arc-like-chrome-extension.git
    ```
2.  プロジェクトディレクトリに移動し、必要な開発用依存パッケージをインストールします：
    ```bash
    cd arc-like-chrome-extension
    npm install
    ```
3.  Chrome ブラウザを開き、`chrome://extensions` にアクセスします。
4.  右上の「デベロッパー モード」をオンにします。
5.  「パッケージ化されていない拡張機能を読み込む」をクリックし、プロジェクトのルートディレクトリを選択します。

---

## 🛠️ ビルドコマンド

プロジェクトでは、ビルドプロセスの自動化に `Makefile` を使用しています。

*   **開発モード**: `make` または `make package`

    コードを圧縮せずに開発用ビルドを作成します。ソースコードがそのまま維持されるため、Chrome デベロッパー ツールでのデバッグが容易です。パッケージファイル名は `arc-sidebar-v<version>-dev.zip` となります。

*   **リリースモード**: `make release`

    本番環境用のビルドを実行します。以下のステップが含まれます：
    1.  `esbuild` を使用して、すべての JavaScript モジュールを 1 つのファイルにまとめて圧縮（Minify）。
    2.  CSS ファイルの圧縮。
    3.  Chrome ウェブストアへのアップロードに適した `.zip` ファイルの作成。

---

## 🧪 テスト

品質と安定性を確保するため、変更ごとにユースケーステスト（Use Case Test）を実施しています。

### ユースケーステスト

*   **目的**: 各テストケースは、特定の機能の期待される動作と操作フローを明確に定義します。テスト手順、前提条件、期待される結果、および検証方法が記述されています。
*   **場所**: `usecase_tests/` フォルダに格納されています。
*   **実行と検証**: 現在は主に手動で実行されています。開発者はテストファイルの指示に従って操作を行い、結果が期待通りかを確認します。

### 自動テストフレームワーク

将来的な自動テストのため、E2E（エンドツーエンド）テストフレームワークとして **Puppeteer** を採用しています。

*   **Puppeteer**: DevTools プロトコルを介して Chromium または Chrome を制御する Node.js ライブラリです。クリック、入力、ナビゲーションなどのアクションをスクリプト化し、検証用のスクリーンショット撮影やコンテンツ取得が可能です。
*   **インストール**: プロジェクト内には `npm install puppeteer` でインストール済みです。
*   **今後の展望**: `usecase_tests/` 内のテストケースを順次 Puppeteer スクリプトに変換し、自動テストと継続的インテグレーション（CI）を実現していく予定です。

---

## 👥 貢献者

本プロジェクトの改善に協力してくださったすべての貢献者の皆様に感謝いたします：

<a href="https://github.com/Tai-ch0802/arc-like-chrome-extension/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=Tai-ch0802/arc-like-chrome-extension" />
</a>

---

## 🔒 プライバシーと FAQ

プライバシーを尊重します。本拡張機能は完全にローカルで動作し、お客様の個人データを収集、送信することはありません。

詳細は [プライバシーポリシー](../../PRIVACY_POLICY.md) をご覧ください。

---

このプロジェクトは MIT ライセンスの下でライセンスされています。
