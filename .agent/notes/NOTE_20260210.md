# 開發摘要 - 2026-02-10

## 變更項目
- [modules/rssManager.js]: 修復 RSS 訂閱新增失敗的問題。新增 `parseRssFeedXml()` 本地解析函數（含 `getTextContent`、`getAtomLink`、`getLinkFromGuid` 輔助函數），修改 `fetchRssFeed()` 根據 `typeof DOMParser` 偵測執行環境，在 side panel 使用本地解析，在 service worker 委派至 offscreen document。
- [offscreen.js]: 新增 `fetchAndParseRssFeed` message action，讓 offscreen document 同時處理 HTTP 抓取與 XML 解析，解決 service worker `fetch()` 對某些 URL 失敗的問題。
- [PRIVACY_POLICY.md]: 更新隱私權政策，補充 readingList、alarms、offscreen 權限說明與 RSS 抓取功能描述。

## 技術決策
- **Side panel 修復**：利用 `typeof DOMParser !== 'undefined'` 判斷環境。Side panel 有完整 DOM API，直接本地 fetch + 解析 XML。
- **Service worker 修復**：service worker 的 `fetch()` 對某些 URL（如 Substack）會失敗（Page failed to load），改為將整個 fetch + parse 流程委派給 offscreen document，因其具有完整瀏覽器網路能力。
- **不修改 background.js**：`onMessage` listener 行為正確，根本問題在 fetch 層級。

## 待辦事項
- [ ] 手動測試：在 Chrome 載入擴充功能，驗證 RSS 定時抓取（alarm）正常運作

