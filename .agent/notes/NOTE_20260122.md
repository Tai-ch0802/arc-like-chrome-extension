# 開發摘要 - 2026-01-22

## 變更項目
- [modules/utils/colorUtils.js]: 新增模組，實現 HSL 顏色轉換、WCAG 對比度檢查與衍生色演算法。
- [modules/ui/customThemeManager.js]: 新增模組，負責自訂主題的 UI 呈現、即時預覽、儲存與匯出/匯入。
- [modules/ui/themeManager.js]: 整合 `customThemeManager`，在主題選單中新增「自訂」選項。
- [sidepanel.css]: 新增顏色選擇器面板的樣式與相關 CSS 變數支援。
- [_locales/*/messages.json]: 新增 14 國語言的 i18n 鍵值，支援自訂主題相關文字。
- [usecase_tests/unit_tests/colorUtils.test.js]: 新增 `colorUtils` 的單元測試。

## 技術決策
- **HSL 衍生色算法**: 採用 HSL 色彩空間進行明度 (Lightness) 調整，以產生主背景色的深淺變體（hover/active 狀態），確保色彩體系的一致性。
- **WCAG 對比度檢查**: 在使用者選擇文字顏色時，自動計算與背景色的對比度。若未達 WCAG AA 標準 (4.5:1)，系統會自動調整文字顏色，確保可讀性。
- **JSON 主題匯出**: 為了方便社群分享，設計了包含版本號與顏色定義的 JSON Schema，使用者可匯出與匯入自訂主題。預留 `backgroundImage` 欄位供未來擴充。

## 待辦事項
- [ ] 觀察使用者對於自訂主題的使用反饋。
- [ ] 未來可實作背景圖片上傳功能 (Phase 2)。
