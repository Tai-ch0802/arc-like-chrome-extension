# 開發摘要 - 2026-01-26

## 變更項目
- [modules/utils/textUtils.js]: **[NEW]** 建立 HTML 轉義工具函式 `escapeHtml` 以防止 XSS。
- [modules/searchManager.js]: 重寫 `highlightText` 函式，採用「先轉義、再標記」的安全演算法，修復搜尋高亮的 XSS 漏洞。
- [modules/modalManager.js]: 
    - 對所有動態插入的內容（標題、預設值等）進行 HTML 轉義。
    - 移除重複的 `GROUP_COLORS` 定義，統一從 `groupColors.js` 匯入。
- [modules/ui/bookmarkRenderer.js]:
    - 移除重複的 `GROUP_COLORS` 定義，改由 `groupColors.js` 匯入。
    - 為書籤項目 (`bookmark-item`) 添加 `role="button"` 以符合無障礙規範。
- [GEMINI.md]: 更新 `key_files` 加入 `textUtils.js` 的描述。

## 技術決策
- **安全第一**：採用 single-scan 與區間合併的演算法來處理搜尋高亮，確保在插入 `<mark>` 標籤前，原始文字已完成轉義，避免巢狀或惡意 HTML 注入。
- **DRY 原則**：將散落在三處的 `GROUP_COLORS` 統一至 `modules/ui/groupColors.js`，減少未來維護顏色時出錯的機率。

## 待辦事項
- [x] 修復 XSS 安全漏洞
- [x] 清理程式碼重複
- [x] 提升無障礙性
